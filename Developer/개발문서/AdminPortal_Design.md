# AiGov Admin Portal 설계 문서

## 📋 개요
AiGov 솔루션의 통합 관리자 포탈 설계 문서입니다. 
PromptGate, ShadowEye, DashIQ, TrustLLM, SolMan 모든 모듈을 통합 관리하는 단일 Admin Portal입니다.

## 🎯 설계 목표
- **통합 관리**: 모든 AiGov 모듈을 하나의 포탈에서 관리
- **실시간 모니터링**: 전체 시스템 상태 실시간 추적
- **정책 중앙화**: 보안 정책, 거버넌스 정책 통합 관리
- **사용자 경험**: 직관적이고 효율적인 관리 인터페이스

## 🏗️ Admin Portal 아키텍처

### 전체 시스템 구조
```
┌─────────────────────────────────────────────────────────────┐
│                    AiGov Admin Portal                      │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌──────┐ │
│  │ PromptGate  │ │ ShadowEye   │ │   DashIQ    │ │TrustLLM│ │
│  │   관리      │ │   관리      │ │   관리      │ │ 관리  │ │
│  └─────────────┘ └─────────────┘ └─────────────┘ └──────┘ │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌──────┐ │
│  │   SolMan    │ │  정책 관리  │ │  사용자 관리 │ │시스템│ │
│  │   관리      │ │   (OPA)     │ │             │ │설정  │ │
│  └─────────────┘ └─────────────┘ └─────────────┘ └──────┘ │
└─────────────────────────────────────────────────────────────┘
```

## 📱 Admin Portal 메뉴 구조

### 1. 대시보드 (Dashboard)
- **전체 시스템 상태**: 모든 모듈 상태 한눈에 보기
- **실시간 알림**: 보안 이벤트, 시스템 알림
- **주요 지표**: 프롬프트 처리량, 탐지 건수, 차단 건수
- **트렌드 차트**: 시간별 사용량, 보안 이벤트 트렌드

### 2. PromptGate 관리
#### 2.1 프롬프트 필터링 정책
- **차단 키워드 관리**: 키워드 추가/수정/삭제
- **마스킹 규칙 관리**: PII 마스킹 패턴 정의
- **프롬프트 인젝션 탐지**: Rebuff SDK 설정 및 모니터링
- **벡터 기반 탐지**: 위험 프롬프트 패턴 관리

#### 2.2 보안 정책 관리 (OPA)
- **테넌트별 정책**: 조직별 맞춤 보안 정책
- **정책 규칙**: DENY_PATTERN, PII_PATTERN, SECRET_PATTERN 등
- **정책 액션**: ALLOW, DENY, MASK, SANITIZE, ALERT
- **정책 배포**: 실시간 정책 배포 및 롤백

#### 2.3 프롬프트 로그 관리
- **실시간 로그**: 프롬프트 처리 로그 실시간 모니터링
- **로그 검색**: 사용자, 세션, 키워드별 검색
- **로그 분석**: 위험도별 통계, 패턴 분석
- **로그 내보내기**: 감사용 로그 다운로드

### 3. ShadowEye 관리
#### 3.1 Shadow AI 탐지 설정
- **탐지 규칙**: AI 서비스 패턴 탐지 규칙 정의
- **네트워크 모니터링**: 트래픽 분석 설정
- **탐지 임계값**: 탐지 민감도 조정
- **화이트리스트**: 허용된 AI 서비스 목록

#### 3.2 실시간 모니터링
- **네트워크 트래픽**: 실시간 트래픽 분석
- **탐지 이벤트**: 비인가 AI 사용 탐지 현황
- **자동 차단**: 탐지된 접근 자동 차단 설정
- **알림 설정**: 탐지 이벤트 알림 규칙

#### 3.3 패턴 분석
- **AI 사용 패턴**: 사용자별 AI 사용 패턴 분석
- **위험도 평가**: 사용자별 위험도 점수
- **학습 데이터**: 탐지 패턴 학습 데이터 관리
- **모델 업데이트**: 탐지 모델 성능 개선

### 4. DashIQ 관리
#### 4.1 분석 대시보드
- **사용량 분석**: AI 서비스별 사용량 통계
- **보안 지표**: 보안 이벤트 통계 및 트렌드
- **성능 지표**: 시스템 성능 모니터링
- **커스텀 차트**: 관리자 정의 분석 차트

#### 4.2 리포트 관리
- **자동 리포트**: 정기 보안 리포트 생성
- **커스텀 리포트**: 사용자 정의 리포트
- **리포트 스케줄링**: 리포트 자동 생성 및 배송
- **리포트 템플릿**: 표준 리포트 템플릿 관리

### 5. TrustLLM 관리
#### 5.1 신뢰성 평가
- **모델 평가**: AI 모델 신뢰성 점수 관리
- **평가 기준**: 신뢰성 평가 기준 설정
- **평가 결과**: 모델별 신뢰성 평가 결과
- **개선 권고**: 신뢰성 개선 권고사항

#### 5.2 모델 관리
- **모델 등록**: 새로운 AI 모델 등록
- **모델 버전**: 모델 버전 관리
- **모델 성능**: 모델 성능 모니터링
- **모델 승인**: 모델 사용 승인 프로세스

### 6. SolMan 관리
#### 6.1 솔루션 관리
- **솔루션 등록**: 새로운 솔루션 등록
- **솔루션 설정**: 솔루션별 설정 관리
- **솔루션 모니터링**: 솔루션 상태 모니터링
- **솔루션 업데이트**: 솔루션 버전 관리

#### 6.2 라이선스 관리
- **라이선스 등록**: 솔루션 라이선스 등록
- **라이선스 모니터링**: 라이선스 사용량 추적
- **라이선스 만료**: 라이선스 만료 알림
- **라이선스 갱신**: 라이선스 갱신 프로세스

### 7. 사용자 관리
#### 7.1 사용자 계정
- **사용자 등록**: 새 사용자 등록
- **사용자 정보**: 사용자 프로필 관리
- **권한 관리**: 사용자별 권한 설정
- **그룹 관리**: 사용자 그룹 관리

#### 7.2 인증 및 권한
- **SSO 연동**: Single Sign-On 설정
- **역할 기반 접근**: RBAC 권한 관리
- **API 키 관리**: API 키 생성 및 관리
- **세션 관리**: 사용자 세션 모니터링

### 8. 시스템 설정
#### 8.1 시스템 구성
- **환경 설정**: 개발/운영 환경 설정
- **데이터베이스**: DB 연결 및 설정
- **캐시 설정**: Redis 캐시 설정
- **로깅 설정**: 로그 레벨 및 저장 설정

#### 8.2 보안 설정
- **암호화 설정**: 데이터 암호화 설정
- **방화벽 설정**: 네트워크 보안 설정
- **백업 설정**: 데이터 백업 정책
- **모니터링 설정**: 보안 모니터링 설정

## 🔧 기술 스택

### Frontend
- **Framework**: React + Next.js
- **UI Library**: Ant Design + Tailwind CSS
- **State Management**: Zustand
- **Charts**: Chart.js / D3.js
- **Real-time**: Socket.io

### Backend
- **API Gateway**: FastAPI
- **Database**: PostgreSQL + Redis
- **Message Queue**: Redis Pub/Sub
- **Authentication**: JWT + OAuth2
- **Monitoring**: Prometheus + Grafana

### Infrastructure
- **Container**: Docker + Kubernetes
- **CI/CD**: GitHub Actions
- **Monitoring**: ELK Stack
- **Security**: OPA + Vault

## 📊 데이터베이스 설계 요구사항

### 핵심 엔티티
1. **Users**: 사용자 정보
2. **Organizations**: 조직/테넌트 정보
3. **Policies**: 보안 정책
4. **PolicyRules**: 정책 규칙
5. **PolicyActions**: 정책 액션
6. **DetectionEvents**: 탐지 이벤트
7. **AuditLogs**: 감사 로그
8. **SystemConfigs**: 시스템 설정

### 관계 설계
- **1:N**: Organization → Users
- **1:N**: Organization → Policies
- **1:N**: Policy → PolicyRules
- **1:N**: Policy → PolicyActions
- **1:N**: User → DetectionEvents
- **1:N**: User → AuditLogs

## 🚀 구현 단계

### Phase 1: 기본 Admin Portal (2주)
- 사용자 인증 및 권한 관리
- 기본 대시보드
- PromptGate 정책 관리

### Phase 2: ShadowEye 통합 (2주)
- Shadow AI 탐지 설정
- 실시간 모니터링
- 탐지 이벤트 관리

### Phase 3: 고급 기능 (2주)
- DashIQ 분석 대시보드
- TrustLLM 모델 관리
- SolMan 솔루션 관리

### Phase 4: 최적화 (1주)
- 성능 최적화
- 보안 강화
- 사용자 경험 개선

## 📋 다음 단계
1. **DB 스키마 상세 설계**
2. **API 명세서 작성**
3. **UI/UX 와이어프레임**
4. **프로토타입 개발**

